import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as u}from"./index-B7o9TaAI.js";import{s as p}from"./transform-BIeV-TGt.js";import{b as w}from"./band-COO5LgbV.js";import{a as T}from"./linear-BvEZjWga.js";import{m as z}from"./max-DBeXZoyG.js";import{a as D,b as _}from"./axis-D3QohQNI.js";import{p as G}from"./pointer-Drloq0xg.js";import"./index-BM9YtLjs.js";import"./ordinal-BIATHBfR.js";function v(r){return(Math.pow(2,-10*r)-.0009765625)*1.0009775171065494}var h=2*Math.PI,B=1,M=.3;(function r(a,o){var s=Math.asin(1/(a=Math.max(1,a)))*(o/=h);function n(e){return a*v(- --e)*Math.sin((s-e)/o)}return n.amplitude=function(e){return r(e,o*h)},n.period=function(e){return r(a,e)},n})(B,M);var H=function r(a,o){var s=Math.asin(1/(a=Math.max(1,a)))*(o/=h);function n(e){return 1-a*v(e=+e)*Math.sin((e+s)/o)}return n.amplitude=function(e){return r(e,o*h)},n.period=function(e){return r(a,e)},n}(B,M);(function r(a,o){var s=Math.asin(1/(a=Math.max(1,a)))*(o/=h);function n(e){return((e=e*2-1)<0?a*v(-e)*Math.sin((s-e)/o):2-a*v(e)*Math.sin((s+e)/o))/2}return n.amplitude=function(e){return r(e,o*h)},n.period=function(e){return r(a,e)},n})(B,M);const P=()=>{const r=u.useRef(null);return u.useEffect(()=>{if(!r.current)return;const a=p(r.current);a.selectAll("*").remove(),a.append("circle").attr("cx",50).attr("cy",50).attr("r",30).style("fill","red"),a.append("rect").attr("x",100).attr("y",30).attr("width",60).attr("height",40).style("fill","blue"),a.append("line").attr("x1",180).attr("y1",30).attr("x2",240).attr("y2",70).style("stroke","green").style("stroke-width",2),a.append("path").attr("d","M 250 50 Q 280 20, 300 50 T 350 50").style("fill","none").style("stroke","purple").style("stroke-width",2),a.append("text").attr("x",50).attr("y",100).text("D3.js 기본 도형").style("font-family","sans-serif").style("font-size","14px")},[]),t.jsxs("div",{children:[t.jsx("h2",{children:"D3.js 기본 도형 그리기"}),t.jsx("svg",{ref:r,width:400,height:150}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h3",{children:"설명:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"circle: cx, cy로 중심점을 지정하고 r로 반지름을 설정"}),t.jsx("li",{children:"rect: x, y로 시작점을 지정하고 width, height로 크기 설정"}),t.jsx("li",{children:"line: x1, y1에서 x2, y2까지 선을 그림"}),t.jsx("li",{children:"path: d 속성으로 복잡한 경로를 그릴 수 있음"}),t.jsx("li",{children:"text: x, y 위치에 텍스트를 표시"})]})]})]})};P.__docgenInfo={description:"",methods:[],displayName:"BasicShapes"};const y=[{name:"A",value:10},{name:"B",value:30},{name:"C",value:50},{name:"D",value:20},{name:"E",value:40}],Q=()=>{const r=u.useRef(null);return u.useEffect(()=>{if(!r.current)return;const a=400,o=200,s={top:20,right:20,bottom:30,left:40},n=p(r.current);n.selectAll("*").remove();const e=w().domain(y.map(l=>l.name)).range([s.left,a-s.right]).padding(.1),c=T().domain([0,z(y,l=>l.value)||0]).range([o-s.bottom,s.top]);n.selectAll("rect").data(y).join("rect").attr("x",l=>e(l.name)||0).attr("y",l=>c(l.value)).attr("width",e.bandwidth()).attr("height",l=>o-s.bottom-c(l.value)).attr("fill","steelblue"),n.append("g").attr("transform",`translate(0,${o-s.bottom})`).call(D(e)),n.append("g").attr("transform",`translate(${s.left},0)`).call(_(c))},[]),t.jsxs("div",{children:[t.jsx("h2",{children:"D3.js 데이터 바인딩과 스케일"}),t.jsx("svg",{ref:r,width:400,height:200}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h3",{children:"주요 개념:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"데이터 바인딩: selectAll().data().join()을 사용하여 데이터와 DOM 요소를 연결"}),t.jsx("li",{children:"scaleBand: 카테고리형 데이터를 위한 스케일 (막대 그래프에서 x축)"}),t.jsx("li",{children:"scaleLinear: 연속형 데이터를 위한 스케일 (y축)"}),t.jsx("li",{children:"axis: 축을 자동으로 생성하고 스케일과 연결"})]}),t.jsx("h3",{children:"코드 설명:"}),t.jsx("pre",{children:`// 데이터 바인딩
svg.selectAll('rect')
  .data(data)
  .join('rect')

// 스케일 설정
const x = d3.scaleBand()
  .domain(data.map(d => d.name))
  .range([margin.left, width - margin.right])

const y = d3.scaleLinear()
  .domain([0, d3.max(data, d => d.value)])
  .range([height - margin.bottom, margin.top])`})]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"DataBinding"};const J=[{name:"A",value:10},{name:"B",value:30},{name:"C",value:50},{name:"D",value:20},{name:"E",value:40}],q=()=>{const r=u.useRef(null),[a,o]=u.useState(J),s=()=>{o(a.map(n=>({...n,value:Math.floor(Math.random()*100)})))};return u.useEffect(()=>{if(!r.current)return;const n=400,e=200,c={top:20,right:20,bottom:30,left:40},l=p(r.current);l.select("g").empty()&&(l.append("g").attr("class","bars"),l.append("g").attr("class","x-axis"),l.append("g").attr("class","y-axis"));const i=w().domain(a.map(d=>d.name)).range([c.left,n-c.right]).padding(.1),m=T().domain([0,100]).range([e-c.bottom,c.top]);l.select(".bars").selectAll("rect").data(a).join(d=>d.append("rect").attr("x",$=>i($.name)||0).attr("y",e-c.bottom).attr("width",i.bandwidth()).attr("height",0).attr("fill","steelblue"),d=>d,d=>d.remove()).transition().duration(750).ease(H).attr("x",d=>i(d.name)||0).attr("y",d=>m(d.value)).attr("width",i.bandwidth()).attr("height",d=>e-c.bottom-m(d.value)),l.select(".x-axis").attr("transform",`translate(0,${e-c.bottom})`).call(D(i)),l.select(".y-axis").attr("transform",`translate(${c.left},0)`).transition().duration(750).call(_(m))},[a]),t.jsxs("div",{children:[t.jsx("h2",{children:"D3.js 트랜지션과 애니메이션"}),t.jsx("button",{onClick:s,style:{marginBottom:"10px"},children:"데이터 업데이트"}),t.jsx("svg",{ref:r,width:400,height:200}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h3",{children:"주요 개념:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"transition(): 요소의 속성 변화를 부드럽게 애니메이션화"}),t.jsx("li",{children:"duration(): 트랜지션 지속 시간 설정"}),t.jsx("li",{children:"ease(): 트랜지션의 타이밍 함수 설정"}),t.jsx("li",{children:"enter/update/exit 패턴: 데이터 변경에 따른 요소 처리"})]}),t.jsx("h3",{children:"코드 설명:"}),t.jsx("pre",{children:`// 트랜지션 적용
.transition()
.duration(750)
.ease(d3.easeElastic)

// enter/update/exit 패턴
.join(
  enter => enter.append('rect')
    .attr('initial-attributes'),
  update => update,
  exit => exit.remove()
)`})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"Transitions"};const b=[{name:"A",value:10},{name:"B",value:30},{name:"C",value:50},{name:"D",value:20},{name:"E",value:40}],F=()=>{const r=u.useRef(null);return u.useEffect(()=>{if(!r.current)return;const a=400,o=200,s={top:20,right:20,bottom:30,left:40},n=p(r.current);n.selectAll("*").remove();const e=p("body").append("div").attr("class","tooltip").style("position","absolute").style("background-color","white").style("padding","5px").style("border","1px solid #ccc").style("border-radius","5px").style("pointer-events","none").style("opacity",0),c=w().domain(b.map(i=>i.name)).range([s.left,a-s.right]).padding(.1),l=T().domain([0,z(b,i=>i.value)||0]).range([o-s.bottom,s.top]);return n.selectAll("rect").data(b).join("rect").attr("x",i=>c(i.name)||0).attr("y",i=>l(i.value)).attr("width",c.bandwidth()).attr("height",i=>o-s.bottom-l(i.value)).attr("fill","steelblue").on("mouseover",(i,m)=>{const[d,$]=G(i);p(i.currentTarget).transition().duration(200).attr("fill","orange"),e.transition().duration(200).style("opacity",.9),e.html(`이름: ${m.name}<br/>값: ${m.value}`).style("left",`${i.pageX+10}px`).style("top",`${i.pageY-28}px`)}).on("mouseout",i=>{p(i.currentTarget).transition().duration(500).attr("fill","steelblue"),e.transition().duration(500).style("opacity",0)}).on("click",(i,m)=>{alert(`${m.name} 선택됨: ${m.value}`)}),n.append("g").attr("transform",`translate(0,${o-s.bottom})`).call(D(c)),n.append("g").attr("transform",`translate(${s.left},0)`).call(_(l)),()=>{e.remove()}},[]),t.jsxs("div",{children:[t.jsx("h2",{children:"D3.js 이벤트와 인터랙션"}),t.jsx("svg",{ref:r,width:400,height:200}),t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsx("h3",{children:"주요 개념:"}),t.jsxs("ul",{children:[t.jsx("li",{children:"이벤트 리스너: on() 메서드로 이벤트 처리"}),t.jsx("li",{children:"d3.pointer(): 마우스 위치 가져오기"}),t.jsx("li",{children:"툴팁: 마우스 오버시 추가 정보 표시"}),t.jsx("li",{children:"트랜지션: 부드러운 상태 변화"})]}),t.jsx("h3",{children:"코드 설명:"}),t.jsx("pre",{children:`// 이벤트 리스너 추가
.on('mouseover', (event, d) => {
  // 이벤트 처리
})

// 마우스 위치 가져오기
const [mouseX, mouseY] = d3.pointer(event)

// 툴팁 표시
tooltip
  .style('left', \`\${mouseX}px\`)
  .style('top', \`\${mouseY}px\`)
  .style('opacity', 1)`})]})]})};F.__docgenInfo={description:"",methods:[],displayName:"Interactions"};const st={title:"D3 Tutorials",parameters:{layout:"centered"}},x={name:"1. 기본 도형 그리기",render:()=>t.jsx(P,{})},g={name:"2. 데이터 바인딩과 스케일",render:()=>t.jsx(Q,{})},f={name:"3. 트랜지션과 애니메이션",render:()=>t.jsx(q,{})},j={name:"4. 이벤트와 인터랙션",render:()=>t.jsx(F,{})};var I,A,E;x.parameters={...x.parameters,docs:{...(I=x.parameters)==null?void 0:I.docs,source:{originalSource:`{
  name: "1. 기본 도형 그리기",
  render: () => <BasicShapes />
}`,...(E=(A=x.parameters)==null?void 0:A.docs)==null?void 0:E.source}}};var S,R,k;g.parameters={...g.parameters,docs:{...(S=g.parameters)==null?void 0:S.docs,source:{originalSource:`{
  name: "2. 데이터 바인딩과 스케일",
  render: () => <DataBinding />
}`,...(k=(R=g.parameters)==null?void 0:R.docs)==null?void 0:k.source}}};var O,C,N;f.parameters={...f.parameters,docs:{...(O=f.parameters)==null?void 0:O.docs,source:{originalSource:`{
  name: "3. 트랜지션과 애니메이션",
  render: () => <Transitions />
}`,...(N=(C=f.parameters)==null?void 0:C.docs)==null?void 0:N.source}}};var X,Y,L;j.parameters={...j.parameters,docs:{...(X=j.parameters)==null?void 0:X.docs,source:{originalSource:`{
  name: "4. 이벤트와 인터랙션",
  render: () => <Interactions />
}`,...(L=(Y=j.parameters)==null?void 0:Y.docs)==null?void 0:L.source}}};const it=["Tutorial1_BasicShapes","Tutorial2_DataBinding","Tutorial3_Transitions","Tutorial4_Interactions"];export{x as Tutorial1_BasicShapes,g as Tutorial2_DataBinding,f as Tutorial3_Transitions,j as Tutorial4_Interactions,it as __namedExportsOrder,st as default};
